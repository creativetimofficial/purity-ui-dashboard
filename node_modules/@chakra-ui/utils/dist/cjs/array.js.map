{"version":3,"sources":["../../src/array.ts"],"names":["getFirstItem","array","length","undefined","getLastItem","getPrevItem","index","loop","prevIndex","getPrevIndex","getNextItem","nextIndex","getNextIndex","removeIndex","filter","_","idx","addItem","item","removeItem","eachItem","currentIndex","step","lastIndex","count","chunk","size","reduce","rows","currentValue","push","getNextItemFromSearch","items","searchString","itemToString","currentItem","foundItem","find","toLowerCase","startsWith","matchingItems","includes","indexOf"],"mappings":"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","sourcesContent":["export function getFirstItem<T>(array: T[]): T | undefined {\n  return array != null && array.length ? array[0] : undefined\n}\n\nexport function getLastItem<T>(array: T[]): T | undefined {\n  const length = array == null ? 0 : array.length\n  return length ? array[length - 1] : undefined\n}\n\nexport function getPrevItem<T>(index: number, array: T[], loop = true): T {\n  const prevIndex = getPrevIndex(index, array.length, loop)\n  return array[prevIndex]\n}\n\nexport function getNextItem<T>(index: number, array: T[], loop = true): T {\n  const nextIndex = getNextIndex(index, array.length, 1, loop)\n  return array[nextIndex]\n}\n\nexport function removeIndex<T>(array: T[], index: number): T[] {\n  return array.filter((_, idx) => idx !== index)\n}\n\nexport function addItem<T>(array: T[], item: T): T[] {\n  return [...array, item]\n}\n\nexport function removeItem<T>(array: T[], item: T): T[] {\n  return array.filter((eachItem) => eachItem !== item)\n}\n\n/**\n * Get the next index based on the current index and step.\n *\n * @param currentIndex the current index\n * @param length the total length or count of items\n * @param step the number of steps\n * @param loop whether to circle back once `currentIndex` is at the start/end\n */\nexport function getNextIndex(\n  currentIndex: number,\n  length: number,\n  step = 1,\n  loop = true,\n): number {\n  const lastIndex = length - 1\n\n  if (currentIndex === -1) {\n    return step > 0 ? 0 : lastIndex\n  }\n\n  const nextIndex = currentIndex + step\n\n  if (nextIndex < 0) {\n    return loop ? lastIndex : 0\n  }\n\n  if (nextIndex >= length) {\n    if (loop) return 0\n    return currentIndex > length ? length : currentIndex\n  }\n\n  return nextIndex\n}\n\n/**\n * Get's the previous index based on the current index.\n * Mostly used for keyboard navigation.\n *\n * @param index - the current index\n * @param count - the length or total count of items in the array\n * @param loop - whether we should circle back to the\n * first/last once `currentIndex` is at the start/end\n */\nexport function getPrevIndex(\n  index: number,\n  count: number,\n  loop = true,\n): number {\n  return getNextIndex(index, count, -1, loop)\n}\n\n/**\n * Converts an array into smaller chunks or groups.\n *\n * @param array the array to chunk into group\n * @param size the length of each chunk\n */\nexport function chunk<T>(array: T[], size: number): T[][] {\n  return array.reduce((rows: T[][], currentValue: T, index: number) => {\n    if (index % size === 0) {\n      rows.push([currentValue])\n    } else {\n      rows[rows.length - 1].push(currentValue)\n    }\n    return rows\n  }, [] as T[][])\n}\n\n/**\n * Gets the next item based on a search string\n *\n * @param items array of items\n * @param searchString the search string\n * @param itemToString resolves an item to string\n * @param currentItem the current selected item\n */\nexport function getNextItemFromSearch<T>(\n  items: T[],\n  searchString: string,\n  itemToString: (item: T) => string,\n  currentItem: T,\n): T | undefined {\n  if (searchString == null) {\n    return currentItem\n  }\n\n  // If current item doesn't exist, find the item that matches the search string\n  if (!currentItem) {\n    const foundItem = items.find((item) =>\n      itemToString(item).toLowerCase().startsWith(searchString.toLowerCase()),\n    )\n    return foundItem\n  }\n\n  // Filter items for ones that match the search string (case insensitive)\n  const matchingItems = items.filter((item) =>\n    itemToString(item).toLowerCase().startsWith(searchString.toLowerCase()),\n  )\n\n  // If there's a match, let's get the next item to select\n  if (matchingItems.length > 0) {\n    let nextIndex: number\n\n    // If the currentItem is in the available items, we move to the next available option\n    if (matchingItems.includes(currentItem)) {\n      const currentIndex = matchingItems.indexOf(currentItem)\n      nextIndex = currentIndex + 1\n      if (nextIndex === matchingItems.length) {\n        nextIndex = 0\n      }\n      return matchingItems[nextIndex]\n    }\n    // Else, we pick the first item in the available items\n    nextIndex = items.indexOf(matchingItems[0])\n    return items[nextIndex]\n  }\n\n  // a decent fallback to the currentItem\n  return currentItem\n}\n"],"file":"array.js"}